<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Bar Management</title>
    <style>
        /* Stylování pro hlavní stránku */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #ff4e50, #f9d423);
        }
        .container {
            max-width: 480px;
            margin: auto;
            background: #fff;
            border-radius: 16px;
            padding: 20px;
        }
        h1 { text-align: center; }
        button { width: 100%; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Mini Bar Management</h1>
        <!-- Výběr vily -->
        <label for="villa">Vyberte vilu:</label>
        <select id="villa">
            <option value="ohyeah">Oh Yeah Villa</option>
            <option value="castle">The Little Castle</option>
            <option value="pool">Amazing Pool Villa</option>
        </select>
        <!-- Výběr měny -->
        <label for="currency">Měna:</label>
        <select id="currency">
            <option value="CZK">CZK</option>
            <option value="EUR">EUR</option>
        </select>
        <!-- Wellness a city tax -->
        <div>
            <label for="wellness">Wellness (€):</label>
            <input type="number" id="wellness" placeholder="Zadejte částku">
            <label for="guests">Počet hostů:</label>
            <input type="number" id="guests" placeholder="Hosté">
            <label for="nights">Počet nocí:</label>
            <input type="number" id="nights" placeholder="Noci">
        </div>
        <!-- Položky skladu -->
        <div id="items"></div>
        <button onclick="generateInvoice()">Generovat fakturu</button>
        <button onclick="window.location.href='sklad.html'">Přejít do skladu</button>
        <button onclick="window.location.href='statistiky.html'">Přejít na statistiky</button>
        <!-- Faktura -->
        <div id="invoice" style="display:none;">
            <h2 id="villa-name"></h2>
            <div id="invoice-details"></div>
            <div id="invoice-total"></div>
        </div>
    </div>
    <script>
        // Položky skladu
        const sklad = {
            "Budvar": 59,
            "Malibu": 99,
            "Jack s colou": 99,
            "Moscow Mule": 99,
            "Gin-Tonic": 99,
            "Mojito": 99,
            "Coca-Cola": 32,
            "Sprite": 32,
            "Red Bull": 59,
            "Prosecco": 390,
            "Pivo sud 30 l": 125 * 25,
            "Pivo sud 50 l": 175 * 25,
            "Plyn": 12 * 25
        };

        // Načtení položek
        function loadItems() {
            const container = document.getElementById('items');
            for (let [name, price] of Object.entries(sklad)) {
                container.innerHTML += `
                    <div>
                        <label>${name} (${price} Kč):</label>
                        <input type="number" id="${name}" placeholder="Počet">
                    </div>`;
            }
        }

        // Generování faktury
        function generateInvoice() {
            const villa = document.getElementById("villa").value;
            const currency = document.getElementById("currency").value;
            const wellness = parseFloat(document.getElementById("wellness").value) || 0;
            const guests = parseInt(document.getElementById("guests").value) || 0;
            const nights = parseInt(document.getElementById("nights").value) || 0;
            const cityTax = guests * nights * (currency === "CZK" ? 2 * 25 : 2);

            let details = `<p>Wellness: ${currency} ${currency === "CZK" ? wellness * 25 : wellness}</p>`;
            details += `<p>City Tax: ${currency} ${cityTax}</p>`;
            let total = wellness + cityTax;

            for (let [name, price] of Object.entries(sklad)) {
                const count = parseInt(document.getElementById(name).value) || 0;
                if (count > 0) {
                    const itemTotal = count * price;
                    details += `<p>${name} x ${count}: ${currency} ${itemTotal}</p>`;
                    total += itemTotal;
                }
            }

            document.getElementById("villa-name").innerText = villa;
            document.getElementById("invoice-details").innerHTML = details;
            document.getElementById("invoice-total").innerHTML = `<strong>Celkem: ${currency} ${total}</strong>`;
            document.getElementById("invoice").style.display = "block";
        }

        window.onload = loadItems;
    </script>
</body>
</html>